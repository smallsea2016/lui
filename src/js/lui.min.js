((e,t)=>{"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=t():"function"==typeof define&&(define.amd||define.cmd)?define(t):e.lui=t()})(this,function(){var g={selector:function(e){return document.querySelector(e)},selectorAll:function(e){return document.querySelectorAll(e)},isSupportTouch:function(){return"ontouchstart"in window},getQueryString:function(e,t){var e=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),o=window.location.href.lastIndexOf("?"),o=window.location.href.substring(o),t=(t?o:window.location.search).substring(1).match(e);return null!=t?decodeURIComponent(t[2]):null},getType:function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},backTop:function(e){let t={target:e.target,elm:e.elm||'[data-role="back-top"]',offsetTop:e.offsetTop||200},o=document.querySelector(t.target),n=document.querySelector(t.elm);if(!o||!n)throw new Error("请检查传入的选择器或 DOM 元素");o.onscroll=function(){n.style.cssText+=o.scrollTop>t.offsetTop?"transform: scale(1);transition:all .25s ease-in-out;":n.style.cssText+="transform: scale(0)"},n.onclick=function(){o.scroll({top:0,behavior:"smooth"})}},longPress:function(e,t){var o=null,n=g.selector(e),e=g.isSupportTouch()?"touchstart":"mousedown",i=g.isSupportTouch()?"touchend":"mouseup";n.addEventListener("contextmenu",function(e){e.preventDefault()}),n.addEventListener(e,function(e){n.style.cssText+="-webkit-touch-callout:none",e.preventDefault(),o=setTimeout(function(){t&&"function"==typeof t&&t()},800)},!1),n.addEventListener(i,function(){clearTimeout(o)},!1)},loadScript:function(e,t){var o=[];"string"==typeof e&&(e=[e]);for(var n=0;n<e.length;n++)o[n]=document.createElement("script"),o[n].type="text/javascript",o[n].async=!0,o[n].defer=!0,o[n].src=e[n],document.head.appendChild(o[n]);var i=0;if(t&&"function"==typeof t)for(var a=0;a<o.length;a++)o[a].readyState?o[a].onreadystatechange=function(){"loaded"!==o[a].readyState&&"complete"!==o[a].readyState||(o[a].onreadystatechange=null,++i===o.length&&t())}:o[a].onload=function(){++i===o.length&&t()}},scrollToBottom:function(e,t){var o,n,i=(e=document.querySelector(e)).clientHeight,a=null;e.onscroll=function(){n=this.scrollHeight,o=this.scrollTop,Math.ceil(o+i)>=n?t&&"function"==typeof t&&(clearTimeout(a),a=setTimeout(function(){t(!0)},100)):t(i+"+"+o+">"+n+"?")}}};return g.tabs=function(e,n){var e=document.querySelector(e),i=e.querySelectorAll('[data-role="tab"]'),a=e.querySelectorAll('[data-role="tabContent"]');for(let e=0,t=i.length;e<t;e++)i[e].index=e,i[e].addEventListener("click",function(){for(var e=this.index,t=0,o=i.length;t<o;t++)e===t?(i[t].classList.add("active"),a[t].style.display="block",n&&"function"==typeof n&&n(Number(e))):(i[t].classList.remove("active"),a[t].style.display="none")},!0)},g.textareaAutoHeight=function(o,e){var n=(o=document.querySelector(o)).cloneNode(),e=e||0;n.id="clone_textarea2017"+e,document.querySelector("body").appendChild(n),n.style.cssText="position:absolute;left:-1000000px",o.oninput=function(e){n.value=o.value,n.style.cssText+="width:"+o.scrollWidth+"px";var t=n.scrollHeight;e.target.style.cssText="height:"+(70<t?70:35<t?t+2:30)+"px"}},g.getTextFieldLen=function(e,t){g.selector(e).oninput=function(e){e=e.target.value.trim();t&&"function"==typeof t&&t(e.length)}},g.search=function(e){function t(){r.value="",s.style.display="none",i&&"function"==typeof i&&i()}var o=(e=e||{el:o,input:function(){},clear:function(){},cancel:function(){},enter:function(){}}).el,n=e.input,i=e.clear,a=e.cancel,l=e.enter,c=g.selector(o+' [role="search-label"]'),r=g.selector(o+' [role="search-input"]'),s=g.selector(o+' [role="search-close"]'),e=g.selector(o+' [role="search-cancel"]');r.onkeypress=function(e){var t=e.which||e.keyCode,e=e.target.value;13==t&&(r.blur(),l)&&"function"==typeof l&&l(e)},c.addEventListener("click",function(){c.style.display="none"},!1),r.addEventListener("input",function(){var e=r.value;e.length?(s.style.display="block",n&&"function"==typeof n&&n(e)):s.style.display="none"},!1),s.addEventListener("click",t,!1),e.addEventListener("click",function(){t(),c.style.display="block",a&&"function"==typeof a&&a()},!1)},g.popupHandler=function(e,t,o){var t=t||"top",e=document.querySelector(e),n="ui_translate_"+t;e.classList.contains("j_isOpenModal")?(e.classList.remove("j_isOpenModal"),e.classList.remove("ui_translate_origin"),e.classList.add(n),setTimeout(function(){e.style.display="none"},300),o&&"object"==typeof o&&o.close&&o.close()):(clearTimeout(null),e.classList.add("j_isOpenModal"),e.style.display="block",setTimeout(function(){e.classList.remove(n),e.classList.add("ui_translate_origin")},10),o&&"object"==typeof o&&o.open&&o.open())},g.showLoading=function(e,t){var o,e=e||"加载中...";(o=document.getElementById("j_loading_mask"))&&o.parentNode.removeChild(o),"close"!=e&&((o=document.createElement("div")).id="j_loading_mask",o.className="ui_loading_mask",o.style.cssText="background:rgba(0,0,0,"+t+")",o.innerHTML='<div class="ui_loading_wrap" id="ui_loading_wrap"><div class="ui_loading"><i class="ui_loading_ico"></i></div><div class="ui_loading_text"><p>'+e+"</p></div></div>",document.body.appendChild(o))},g.showToast=function(e){(e=e||{}).type=e.type||"ok",e.text=e.text||"提示信息",e.position=e.position||"",e.duration=e.duration||2e3,e.disableClickBody=e.disableClickBody||!1;var t,o=document.getElementById("js_ui_toast"),o=(o&&o.parentNode.removeChild(o),document.createElement("div"));o.id="js_ui_toast",e.disableClickBody&&(o.className="ui_toast_wrap"),o.innerHTML='<div class="ui_toast toast_'+e.position+'"><div class="ui_toast_inner"><span class="ui_toast_ico_wrap"><i class="ui_toast_ico ui_toast_'+e.type+'_ico"></i></span><div class="ui_toast_text"><p>'+e.text+"</p></div></div></div>",document.body.appendChild(o),o.childNodes[0].classList.add("ui_effect_fade"),t=o,setTimeout(function(){t.parentNode&&t.parentNode.removeChild(t)},e.duration)},g.showModal=function(t){function o(){c=!0,l.classList.remove("ui_modal_in"),l.classList.add("ui_modal_out"),setTimeout(function(){a.parentNode.removeChild(a),c=!1},200)}function n(e){(e=e.target.dataset.btn)&&(t.beforeClose&&"function"==typeof t.beforeClose?t.beforeClose(e,o):o(),"_cancel"==e&&t.cancel&&"function"==typeof t.cancel&&setTimeout(function(){t.cancel()},201),"_confirm"==e)&&t.confirm&&"function"==typeof t.confirm&&setTimeout(function(){t.confirm()},201)}(t=t||{}).title=t.title||"提示",t.content=t.content||"内容",t.cancelText=t.cancelText||"取消",t.confirmText=t.confirmText||"确认",t.customClass=t.customClass||"",t.showCancel=t.showCancel||!1;var e=document.querySelector("#j_modal_wrap"),e=(e&&e.parentNode.removeChild(e),document.createElement("div")),e=(e.id="j_modal_wrap",e.className="ui_modal_wrap",e.innerHTML='<div class="ui_modal '+t.customClass+'" id="j_modal"><div class="ui_modal_hd">'+t.title+'</div><div class="ui_modal_bd">'+t.content+'</div><div class="ui_modal_ft" id="js_btns2017"><a href="javascript:;" class="ui_modal_btn ui_modal_default_btn" data-btn="_cancel">'+t.cancelText+'</a><a href="javascript:;" class="ui_modal_btn ui_modal_primary_btn" data-btn="_confirm">'+t.confirmText+"</a></div></div>",document.body.appendChild(e),g.selector('[data-btn="_cancel"]')),i=g.selector('[data-btn="_confirm"]'),a=(t.showCancel||e.parentNode.removeChild(e),document.querySelector("#j_modal_wrap")),l=document.querySelector("#j_modal"),c=(setTimeout(function(){l.classList.add("ui_modal_in")},60),!1);e&&e.addEventListener("click",function(e){c||n(e)},!1),i&&i.addEventListener("click",function(e){c||n(e)},!1)},g.indexAction=function(e){for(var n,i=[],a=[],t=null,l=!1,c=document.querySelectorAll('[data-role="word_index"]'),o=document.querySelector('[data-role="word_list"]'),r=document.querySelectorAll('[data-role="word_list"] a'),s=document.querySelector('[data-role="word_popup"]'),u=(document.body.clientHeight-o.clientHeight)/2,e=e||".ui_page_bd",d=0,f=document.querySelector(e),p=this.isSupportTouch()?"touchstart":"mousedown",m=this.isSupportTouch()?"touchend":"mouseup",v=0;v<r.length;v++)r[v].addEventListener([p],h,!1),r[v].addEventListener("touchmove",y,!1),r[v].addEventListener([m],_,!1),i[v]=r[v].offsetTop+u,a[v]=r[v].clientHeight;function h(e){l=!0,g.isSupportTouch()&&(t=e.changedTouches[0],t.pageX,0);var t=e.target.dataset.href;s.classList.add("active"),s.innerText=t,d=document.querySelector("#"+t).offsetTop,f.scrollTop=d}function y(e){if(e.preventDefault(),l)for(var e=e.changedTouches[0],t=(e.pageX,n=e.pageY,s.classList.add("active"),document.body.scrollTop),o=0;o<c.length;o++)i[o]+t<n&&n<i[o]+a[o]+t&&(d=document.querySelector("#"+c[o].id).offsetTop,f.scrollTop=d,s.innerText=c[o].id)}function _(){l=!1,clearTimeout(t),t=setTimeout(function(){s.classList.remove("active")},500)}},g.watermark=function(e,t){var o,n=t||"保密水印",i=e?document.querySelector(e):document.body;if(!i)throw new Error("Element not found.");o=Math.ceil(i.clientHeight/20),i.style.cssText+="position:relative;overflow:hidden;";for(var a=0;a<o;a++){var l=19*a-40,c=a%5*20+"%",r=document.createElement("div");r.className="fixed_watermark",r.style.cssText="pointer-events:none;position:absolute;transform:rotate(-25deg) translateX(-50%);-webkit-transform:rotate(-25deg) translateX(-50%);font-size:16px;color:#bcc7cd;opacity:.5;user:none;-webkit-user:none;white-space:nowrap;user-select:none;-webkit-user-select:none;left:"+c+";top:"+l+"px;",r.innerHTML=n,i.appendChild(r)}},g.countDown=function(a,l){var c="",r=setInterval(function(){var e=a.replace(/-/g,"/"),e=new Date(e),t=new Date;if(e<t)return clearInterval(r),l(c);var e=(e.getTime()-t.getTime())/1e3,t=0,o=0,n=0,i=0;0<e&&(t=Math.floor(e/86400),o=Math.floor(e/3600)-24*t,n=Math.floor(e/60)-24*t*60-60*o,i=Math.floor(e)-24*t*60*60-60*o*60-60*n),l(c=(t=t<10?"0"+t:t)+"|"+(o=o<10?"0"+o:o)+"|"+(n=n<10?"0"+n:n)+"|"+(i=i<10?"0"+i:i))},1e3)},g.changeSelectStyle=function(e){""===e.target.value?e.target.classList.add("placeholderColor"):e.target.classList.remove("placeholderColor")},g.marqueeUp=function(e){(e=e||{}).wait=e.wait||2e3;var i=null,a=0;return{start:function(){if(!e.el)throw new Error("缺少选择器参数：opts.el");if(!e.height)throw new Error("缺少滚动高度参数：opts.height");if(!e.size)throw new Error("缺少滚动总个数：opts.size");var t=e.height,o=e.size,n=lui.selector(e.el);i=setInterval(function(){o<++a&&(a=1),n.style.cssText="transform:translateY(-"+t*a+"px);transition:all 0.5s";var e=null;a===o?setTimeout(function(){n.style.cssText="transform:translateY(0)"},500):clearTimeout(e)},e.wait)},stop:function(){clearInterval(i)}}},g.marquee=function(e){if(!(e=e||{}).container)throw new Error("缺少容器参数：opts.container");if(!e.listEl)throw new Error("缺少滚动列表选择器参数：opts.listEl");e.speed=e.speed||60;function t(){a.offsetWidth-n.scrollLeft<=0?n.scrollLeft-=i.offsetWidth:n.scrollLeft++}var o=null,n=document.querySelector(e.container),i=document.querySelector(e.listEl),a=document.createElement(i.tagName);a.className=i.className,a.id=i.id+"-clone-"+Date.now(),a.innerHTML=i.innerHTML,i.after(a);return{start:function(){o=setInterval(t,e.speed)},stop:function(){clearInterval(o)}}},g});