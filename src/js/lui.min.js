((e,t)=>{"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=t():"function"==typeof define&&(define.amd||define.cmd)?define(t):e.lui=t()})(this,function(){var p={selector:function(e){return document.querySelector(e)},selectorAll:function(e){return document.querySelectorAll(e)},isSupportTouch:function(){return"ontouchstart"in window},getQueryString:function(e,t){var o;return e&&"string"==typeof e&&(e=new RegExp(`(^|&)${e}=([^&]*)(&|$)`,"i"),t=((o=window.location.href).includes("?")?t?o.substring(o.lastIndexOf("?")):window.location.search:"").substring(1).match(e))?decodeURIComponent(t[2]):null},getType:function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},backTop:function(e){let r={target:null,elm:'[data-role="back-top"]',offsetTop:200,...e};if(r.target&&r.elm){let o=document.querySelector(r.target),n=document.querySelector(r.elm);if(o&&n){let e=()=>{var e=o.scrollTop>r.offsetTop;n.style.transform=e?"scale(1)":"scale(0)",n.style.transition="all .25s ease-in-out"},t=()=>{o.scrollTo({top:0,behavior:"smooth"})};return o.addEventListener("scroll",e),n.addEventListener("click",t),e(),()=>{o.removeEventListener("scroll",e),n.removeEventListener("click",t)}}}},longPress:function(e,l){let i=p.selector(e);if(i&&(!l||"function"==typeof l)){let e=p.isSupportTouch()?"touchstart":"mousedown",t=p.isSupportTouch()?"touchend":"mouseup",o=null,n=e=>{e.preventDefault(),i.style.webkitTouchCallout="none",o=setTimeout(()=>{"function"==typeof l&&l()},800)},r=()=>{clearTimeout(o)};return i.addEventListener("contextmenu",e=>e.preventDefault()),i.addEventListener(e,n,!1),i.addEventListener(t,r,!1),()=>{i.removeEventListener(e,n),i.removeEventListener(t,r)}}}};return p.loadScript=function(o,n){if(0!==(o=Array.isArray(o)?o:"string"==typeof o?[o]:[]).length){let t=0;(async()=>{try{for(var e of o)await(n=>new Promise((e,t)=>{let o=document.createElement("script");o.type="text/javascript",o.async=!0,o.defer=!0,o.src=n;o.onload=()=>{o.onload=null,o.onerror=null,e()},o.onerror=()=>{o.onload=null,o.onerror=null,t(new Error("Failed to load script: "+n))},document.head.appendChild(o)}))(e),t++;"function"==typeof n&&n()}catch(e){}})()}},p.scrollToBottom=function(e,r){let l=document.querySelector(e);if(l&&(!r||"function"==typeof r)){let n=null;l.addEventListener("scroll",()=>{var{clientHeight:e,scrollTop:t,scrollHeight:o}=l;Math.ceil(t+e)>=o?(clearTimeout(n),n=setTimeout(()=>{"function"==typeof r&&r(!0)},100)):"function"==typeof r&&r(e+`+${t}>${o}?`)})}},p.tabs=function(e,l){e=document.querySelector(e);if(e){let n=e.querySelectorAll('[data-role="tab"]'),r=e.querySelectorAll('[data-role="tabContent"]');if(n.length===r.length)n.forEach((e,t)=>{e.addEventListener("click",()=>{return o=t,n.forEach((e,t)=>{e.classList.toggle("active",t===o),r[t].hidden=t!==o}),void("function"==typeof l&&l(o));var o},!1)})}},p.textareaAutoHeight=function(e,t=0){e=document.querySelector(e);if(e&&e instanceof HTMLTextAreaElement){let o=e.cloneNode();o.id="clone_textarea2017"+t,o.style.cssText="position:absolute;left:-1000000px",document.body.appendChild(o),e.addEventListener("input",e=>{var e=e.target,t=(o.value=e.value,o.style.width=e.scrollWidth+"px",o.scrollHeight);e.style.height=(t=70<t?70:35<t?t+2:30)+"px"})}},p.getTextFieldLen=function(e,t){e=p.selector(e);e&&(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&(t&&"function"!=typeof t||e.addEventListener("input",e=>{e=e.target.value.trim();"function"==typeof t&&t(e.length)}))},p.search=function(s){s={el:null,input:()=>{},clear:()=>{},cancel:()=>{},enter:()=>{},...s};if(s.el){let{el:e,input:t,clear:o,cancel:n,enter:r}=s,l=p.selector(e+' [role="search-label"]'),i=p.selector(e+' [role="search-input"]'),a=p.selector(e+' [role="search-close"]');s=p.selector(e+' [role="search-cancel"]');if([l,i,a,s].every(Boolean)){let e=()=>{i.value="",a.style.display="none","function"==typeof o&&o()};l.addEventListener("click",()=>{l.style.display="none"},!1),i.addEventListener("input",()=>{var e=i.value.trim();a.style.display=e?"block":"none","function"==typeof t&&t(e)},!1),a.addEventListener("click",e,!1),s.addEventListener("click",()=>{e(),l.style.display="block","function"==typeof n&&n()},!1),i.addEventListener("keypress",e=>{var t=e.which||e.keyCode,e=e.target.value.trim();13===t&&(i.blur(),"function"==typeof r)&&r(e)},!1)}}},p.popupHandler=function(t,o="top",n={}){let r=document.querySelector(t);if(r){t=r.classList.contains("j_isOpenModal");let e="ui_translate_"+o;t?(r.classList.remove("j_isOpenModal"),r.classList.remove("ui_translate_origin"),r.classList.add(e),setTimeout(()=>{r.style.display="none"},300),"function"==typeof n.close&&n.close()):(r.classList.add("j_isOpenModal"),r.style.display="block",setTimeout(()=>{r.classList.remove(e),r.classList.add("ui_translate_origin")},10),"function"==typeof n.open&&n.open())}},p.showLoading=function(e="加载中...",t=.5){var o;(o=document.getElementById("j_loading_mask"))&&o.parentNode&&o.parentNode.removeChild(o),"close"!==e&&((o=document.createElement("div")).id="j_loading_mask",o.className="ui_loading_mask",o.style.cssText=`background:rgba(0,0,0,${t});`,o.innerHTML=`
      <div class="ui_loading_wrap" id="ui_loading_wrap">
        <div class="ui_loading"><i class="ui_loading_ico"></i></div>
        <div class="ui_loading_text">
          <p>${e}</p>
        </div>
      </div>
    `,document.body.appendChild(o))},p.showToast=function(e={}){var t,e={type:"ok",text:"提示信息",position:"",duration:2e3,disableClickBody:!1,...e};(t=document.getElementById("js_ui_toast"))&&t.parentNode&&t.parentNode.removeChild(t);let o=document.createElement("div");o.id="js_ui_toast",e.disableClickBody&&(o.className="ui_toast_wrap"),o.innerHTML=`
    <div class="ui_toast toast_${e.position}">
      <div class="ui_toast_inner">
        <span class="ui_toast_ico_wrap">
          <i class="ui_toast_ico ui_toast_${e.type}_ico"></i>
        </span>
        <div class="ui_toast_text">
          <p>${e.text}</p>
        </div>
      </div>
    </div>
  `,document.body.appendChild(o),o.childNodes[0].classList.add("ui_effect_fade"),setTimeout(()=>{o.parentNode&&o.parentNode.removeChild(o)},e.duration)},p.showModal=function(e={}){let t={title:"提示",content:"内容",cancelText:"取消",confirmText:"确认",customClass:"",showCancel:!1,beforeClose:null,cancel:null,confirm:null,...e};(e=document.querySelector("#j_modal_wrap"))&&e.parentNode&&e.parentNode.removeChild(e);let o=document.createElement("div"),n=(o.id="j_modal_wrap",o.className="ui_modal_wrap",o.innerHTML=`
    <div class="ui_modal ${t.customClass}" id="j_modal">
      <div class="ui_modal_hd">${t.title}</div>
      <div class="ui_modal_bd">${t.content}</div>
      <div class="ui_modal_ft" id="js_btns2017">
        ${t.showCancel?`<a href="javascript:;" class="ui_modal_btn ui_modal_default_btn" data-btn="_cancel">${t.cancelText}</a>`:""}
        <a href="javascript:;" class="ui_modal_btn ui_modal_primary_btn" data-btn="_confirm">${t.confirmText}</a>
      </div>
    </div>
  `,document.body.appendChild(o),document.querySelector("#j_modal")),r=(setTimeout(()=>n.classList.add("ui_modal_in"),60),!1),l=()=>{r=!0,n.classList.remove("ui_modal_in"),n.classList.add("ui_modal_out"),setTimeout(()=>{o.parentNode.removeChild(o),r=!1},200)};var e=e=>{e=e.target.dataset.btn;e&&!r&&(t.beforeClose&&"function"==typeof t.beforeClose?t.beforeClose(e,l):l(),"_cancel"===e&&"function"==typeof t.cancel&&setTimeout(()=>t.cancel(),201),"_confirm"===e)&&"function"==typeof t.confirm&&setTimeout(()=>t.confirm(),201)},i=n.querySelector('[data-btn="_cancel"]'),a=n.querySelector('[data-btn="_confirm"]');i?.addEventListener("click",e,!1),a?.addEventListener("click",e,!1)},p.indexAction=function(e=".ui_page_bd"){let s=document.querySelectorAll('[data-role="word_index"]');var o=document.querySelector('[data-role="word_list"]'),r=document.querySelectorAll('[data-role="word_list"] a');let c=document.querySelector('[data-role="word_popup"]');if(o&&c&&0!==s.length&&0!==r.length){let t=(document.body.clientHeight-o.clientHeight)/2,a=document.querySelector(e);if(a){let l=Array.from(r).map(e=>({y:e.offsetTop+t,height:e.clientHeight})),i=!1,e=null,o=p.isSupportTouch()?"touchstart":"mousedown",n=p.isSupportTouch()?"touchend":"mouseup";function d(e){i=!0;p.isSupportTouch()&&e.changedTouches[0];e=e.target.dataset.href,c.classList.add("active"),c.innerText=e,e=document.querySelector("#"+e);e&&(a.scrollTop=e.offsetTop)}function u(e){if(i){e.preventDefault();var t=(p.isSupportTouch()?e.changedTouches[0]:e).pageY,o=document.body.scrollTop;for(let e=0;e<s.length;e++){var{y:n,height:r}=l[e];n+o<t&&t<n+r+o&&(c.classList.add("active"),c.innerText=s[e].id,n=document.querySelector("#"+s[e].id))&&(a.scrollTop=n.offsetTop)}}}function f(){i=!1,clearTimeout(e),e=setTimeout(()=>{c.classList.remove("active")},500)}r.forEach((e,t)=>{e.addEventListener(o,d,!1),e.addEventListener("touchmove",u,!1),e.addEventListener(n,f,!1)})}}},p.watermark=function(e,t="保密"){var o=e?document.querySelector(e):document.body;if(o){var n=Math.ceil(o.clientHeight/20);o.style.cssText+="position:relative;overflow:hidden;";for(let e=0;e<n;e++){var r=19*e-40,l=e%5*20+"%",i=document.createElement("div");i.className="fixed_watermark",i.style.cssText=`
      pointer-events: none;
      position: absolute;
      transform: rotate(-25deg) translateX(-50%);
      -webkit-transform: rotate(-25deg) translateX(-50%);
      font-size: 16px;
      color: #bcc7cd;
      opacity: 0.5;
      user-select: none;
      -webkit-user-select: none;
      white-space: nowrap;
      left: ${l};
      top: ${r}px;
    `,i.innerHTML=t,o.appendChild(i)}}},p.countDown=function(e,a){if(e&&"string"==typeof e&&a&&"function"==typeof a){let r=new Date(e.replace(/-/g,"/")),l=null,i=e=>e<10?"0"+e:""+e;e=()=>{var e,t,o,n=new Date;r<n?(clearInterval(l),a("")):(n=Math.floor((r-n)/1e3),o=Math.floor(n/86400),e=Math.floor(n%86400/3600),t=Math.floor(n%3600/60),n%=60,o=[i(o),i(e),i(t),i(n)].join("|"),a(o))};l=setInterval(e,1e3),e()}},p.changeSelectStyle=function(e){""===e.target.value?e.target.classList.add("placeholderColor"):e.target.classList.remove("placeholderColor")},p.marqueeUp=function(e={}){let{el:t,height:o,size:n,wait:r}={wait:2e3,...e};if(!t)throw new Error('Missing required parameter: "el"');if(!o)throw new Error('Missing required parameter: "height"');if(!n)throw new Error('Missing required parameter: "size"');let l=lui.selector(t);if(!l)throw new Error('Invalid selector parameter: "el"');let i=null,a=0;return{start:function(){i=setInterval(()=>{++a>n&&(a=1),l.style.cssText=`
          transform: translateY(-${o*a}px);
          transition: all 0.5s;
        `,a===n&&setTimeout(()=>{l.style.cssText="transform: translateY(0); transition: none;"},500)},r)},stop:function(){clearInterval(i)}}},p.marquee=function(e={}){e={speed:60,...e};if(!e.container)throw new Error('Missing required parameter: "container"');if(!e.listEl)throw new Error('Missing required parameter: "listEl"');let{container:t,listEl:o,speed:n}=e,r=document.querySelector(t),l=document.querySelector(o);if(!r||!l)throw new Error('Invalid selector parameter: "box" or "el"');let i=l.cloneNode(!0),a=(i.id=l.id+"-clone-"+Date.now(),l.after(i),null),s=()=>{i.offsetWidth-r.scrollLeft<=0?r.scrollLeft-=l.offsetWidth:r.scrollLeft++};return{start:()=>{a=setInterval(s,n)},stop:()=>{clearInterval(a)}}},p});